# 说明

### 目的

使用该方式搭建项目结合规范的代码可以对模块进行任意的组合

假设有`A`，`B`，`C`三个模块

- 我们可以实现`A`，`B`，`C`分别作为一个服务的微服务
- 我们可以实现`AB`合并为一个服务，`C`单独为一个服务的微服务
- 我们可以实现`AC`合并为一个服务，`B`单独为一个服务的微服务
- 我们可以实现`BC`合并为一个服务，`A`单独为一个服务的微服务
- 我们可以实现`ABC`合并为一个单体服务

**需要注意相应的代码规范：**

每个不同功能的垂直模块不相互依赖，同一个功能需要在不同模块间定义各自的模型来保证0耦合，通过接口等方式进行模型间的转换

### 适用场景

- 场景1

项目版本较多，不同项目在功能上存在出入，定制化功能用多分支开发难以维护，其他项目难以复用某个定制化功能

这种情况可以将定制化功能作为单独的模块方便任意组合，通过代码设计提供某个模块的插件式集成，就可以灵活地进行选择

- 场景2

想要先使用单体应用快速搭建一个项目，但又担心后续需要大量重构进行微服务改造

该项目的构建理念完美支持上述问题，只要代码足够规范，可以直接进行单体和微服务间的切换

### 模块

普通模块无法单独启动（除`gateway`之外），通过`application`模块进行启动

- basic

基础模块，对所有模块都生效

该模块中的配置在`autoconfigure`包下，使用`spring.factories`的方式注入，便于结合`@ConditionalOnMissingBean`进行扩展

同时默认的扫描路径为`config`包，其他模块中的组件使用`@Bean`注入，便于结合`@ConditionalOnMissingBean`进行扩展

- gateway

网关模块，用于微服务，单体应用时可忽略

- sample

示例模块，建议相同业务的`Controller`，`Service`，`Repository`等组件放在同一个包下方便查找

- user

用户示例模块，结合 sample 模块演示其他模块如何从用户模块获得数据

- application-boot

单体应用示例

- application-cloud

微服务示例

### build.gradle

使用`allprojects`进行全局配置，每个模块只需要单独配置特有的内容，不需要相同的重复配置

### 掘金专栏

专栏中对于一些功能思路有讲解，还有一些示例

https://juejin.cn/column/7140131104270319629

### 注意

理想情况（模块可以任意组合）需要一定的编码门槛来保证模块间0耦合